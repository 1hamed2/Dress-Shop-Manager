import{r as d,j as e,$ as p,S as u}from"./app-sGPDzOdj.js";import{A as T}from"./Admin-BTNIfvca.js";import{r,F as _,a as m,b as S,c as C}from"./index-q4uN7DkW.js";import{M as k,S as $,D}from"./DangerButton-D5Sma0dt.js";import"./NavLink-B_sBopIA.js";import"./transition-D544M8uy.js";function L({settings:l,queryParams:c,success:t,updateMsg:o,deleteMsg:i}){c=c||"",console.log("settings",l);const y=s=>{const a={...c};s===c.sort_field?(console.log("passed suckjdfhgllyy"),a.sort_direction==="desc"?a.sort_direction="asc":a.sort_direction="desc"):(a.sort_field=s,a.sort_direction="desc"),u.get(route("system-settings.index",a))},[x,g]=d.useState(!!t||!!i||!!o);d.useEffect(()=>{if(t||i||o){g(!0);const s=setTimeout(()=>{g(!1)},5e3);return()=>clearTimeout(s)}},[t,i,o]);const[f,b]=d.useState(!1),[N,j]=d.useState(null),v=s=>{b(!0),j(s)},h=()=>{b(!1),j(null)},w=s=>{if(!s||!s.id){alert("Error: No setting selected");return}console.log("Deleting setting:",s),u.delete(route("system-settings.destroy",s.id)),h()};return e.jsx(e.Fragment,{children:e.jsxs(T,{children:[t&&e.jsx("div",{className:`bg-emerald-500 py-2 px-4 rounded text-gray-100 transition-opacity duration-1000 ${x?"opacity-100":"opacity-0"}`,children:t}),i&&e.jsx("div",{className:`bg-emerald-500 py-2 px-4 rounded text-gray-100 transition-opacity duration-1000 ${x?"opacity-100":"opacity-0"}`,children:i}),o&&e.jsx("div",{className:`bg-emerald-500 py-2 px-4 rounded text-gray-100 transition-opacity duration-1000 ${x?"opacity-100":"opacity-0"}`,children:o}),e.jsx("div",{className:"flex flex-wrap",children:e.jsx("div",{className:"w-full mb-12 px-4",children:e.jsxs(r.Card,{className:"h-full w-full",children:[e.jsxs(r.CardHeader,{floated:!1,shadow:!1,className:"rounded-none",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between gap-8",children:[e.jsx("div",{}),e.jsx("div",{className:"flex shrink-0 flex-col gap-2 sm:flex-row",children:e.jsx(r.Button,{className:"flex items-center gap-3 bg-gray-900",size:"sm",children:e.jsxs(p,{href:route("system-settings.create"),className:"flex items-center",children:[e.jsx(_,{strokeWidth:2,className:"h-4 w-4"})," Add setting"]})})})]}),e.jsx("div",{className:"flex flex-col items-center justify-between gap-4 md:flex-row",children:e.jsxs("div",{className:"w-full md:w-max",children:[e.jsx(r.Typography,{variant:"h5",color:"blue-gray",children:"Settings list"}),e.jsx(r.Typography,{color:"gray",className:"mt-1 font-normal",children:"See information about all settings"})]})})]}),e.jsx(r.CardBody,{className:"overflow-scroll px-0",children:e.jsxs("table",{className:"mt-4 w-full min-w-max table-auto text-left",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-800",children:[e.jsx("th",{className:"cursor-pointer border-y border-blue-gray-100 bg-blue-gray-50/50 p-4 transition-colors hover:bg-blue-gray-50",children:e.jsxs(r.Typography,{variant:"small",className:"flex items-center justify-between gap-2 font-bold leading-none",children:[e.jsx("h2",{className:"bg-slate-800  text-white p-3 rounded",children:"Id"}),e.jsx(m,{onClick:()=>y("id"),name:"id",strokeWidth:2,className:"h-4 w-4 text-white"})]})}),e.jsx("th",{className:"cursor-pointer border-y border-blue-gray-100 bg-blue-gray-50/50 p-4 transition-colors hover:bg-blue-gray-50",children:e.jsxs(r.Typography,{variant:"small",className:"flex items-center justify-between gap-2 font-bold leading-none",children:[e.jsx("h2",{className:"bg-slate-800  text-white p-3 rounded",children:"Commission per piece"}),e.jsx(m,{onClick:()=>y("commission_per_piece"),name:"commission_per_piece",strokeWidth:2,className:"h-4 w-4 text-white"})]})}),e.jsx("th",{className:"cursor-pointer border-y border-blue-gray-100 bg-blue-gray-50/50 p-4 transition-colors hover:bg-blue-gray-50",children:e.jsx(r.Typography,{variant:"small",className:"flex items-center justify-between gap-2 font-bold leading-none",children:e.jsx("h2",{className:"bg-slate-800  text-white p-3 rounded",children:"Currency"})})}),e.jsx("th",{className:"cursor-pointer border-y border-blue-gray-100 bg-blue-gray-50/50 p-4 transition-colors hover:bg-blue-gray-50",children:e.jsxs(r.Typography,{variant:"small",className:"flex items-center justify-between gap-2 font-bold leading-none",children:[e.jsx("h2",{className:"bg-slate-800  text-white p-3 rounded",children:"Tax rate"}),e.jsx(m,{strokeWidth:2,className:"h-4 w-4 text-white"})]})}),e.jsx("th",{className:"cursor-pointer border-y border-blue-gray-100 bg-blue-gray-50/50 p-4 transition-colors hover:bg-blue-gray-50",children:e.jsxs(r.Typography,{variant:"small",className:"flex items-center justify-between gap-2 font-bold leading-none",children:[e.jsx("h2",{className:"bg-slate-800  text-white p-3 rounded",children:"Action"}),e.jsx(m,{strokeWidth:2,className:"h-4 w-4 text-white"})]})})]})}),e.jsx("tbody",{children:l.data.map(s=>{const n=s===l.length-1?"p-4":"p-4 border-b border-blue-gray-50";return e.jsxs("tr",{children:[e.jsx("td",{className:n,children:e.jsx("div",{className:"flex items-center gap-3",children:e.jsx("div",{className:"flex flex-col",children:e.jsx(r.Typography,{variant:"small",color:"blue-gray",className:"font-normal",children:s.id})})})}),e.jsx("td",{className:n,children:e.jsx("div",{className:"flex items-center gap-3",children:e.jsx("div",{className:"flex flex-col",children:e.jsx(r.Typography,{variant:"small",color:"blue-gray",className:"font-normal",children:s.commission_per_piece})})})}),e.jsx("td",{className:n,children:e.jsx("div",{className:"flex flex-col",children:e.jsx(r.Typography,{variant:"small",color:"blue-gray",className:"font-normal",children:s.currency})})}),e.jsx("td",{className:n,children:e.jsx(r.Typography,{variant:"small",color:"blue-gray",className:"font-normal",children:s.tax_rate})}),e.jsx("td",{className:n,children:e.jsxs("div",{children:[e.jsx(r.Tooltip,{content:"Delete User",children:e.jsx(r.IconButton,{onClick:F=>v(s),variant:"text",children:e.jsx(S,{className:"h-6 w-6 text-red-500"})})}),e.jsx(r.Tooltip,{content:"Edit User",children:e.jsx(r.IconButton,{variant:"text",children:e.jsx(p,{href:route("system-settings.edit",s),children:e.jsx(C,{className:"h-6 w-6"})})})})]})})]},s.id)})})]})}),e.jsxs(r.CardFooter,{className:"flex items-center justify-between border-t border-blue-gray-50 p-4",children:[e.jsxs(r.Typography,{variant:"small",color:"blue-gray",className:"font-normal",children:["Page ",l.meta.current_page," of ",l.meta.last_page]}),e.jsx("div",{className:"flex gap-2",children:l.meta.links.map(s=>e.jsx(p,{preserveScroll:!0,href:s.url||"",className:"inline-block py-2 px-3 rounded-lg  border-t border-blue-gray-50"+(s.active?"bg-gray-950 ":" ")+(s.url?"hover:bg-gray-950 hover:text-gray-100":"text-gray-500 cursor-not-allowed "),dangerouslySetInnerHTML:{__html:s.label}},s.label))})]})]})})}),e.jsx(k,{show:f,onClose:h,children:e.jsxs("div",{className:"p-6 pointer-events-auto",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:"Are you sure you want to delete this setting?"}),e.jsxs("div",{className:"mt-6 flex justify-end",children:[e.jsx($,{onClick:h,children:"Cancel"}),e.jsx(D,{onClick:()=>w(N),className:"ms-3",children:"Delete Setting"})]})]})})]})})}export{L as default};
