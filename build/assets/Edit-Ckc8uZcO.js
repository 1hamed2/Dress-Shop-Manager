import{m as N,j as e}from"./app-sGPDzOdj.js";import{I as n,T as r}from"./TextInput-BJ5F13_2.js";import{I as m}from"./InputLabel-B7PnumOs.js";import{P as S}from"./PrimaryButton-C0vepZT5.js";import{S as u}from"./SelectInput-BzaPBaqW.js";import{A as b}from"./Admin-BTNIfvca.js";import{z as F}from"./transition-D544M8uy.js";import"./NavLink-B_sBopIA.js";function A({staffCommission:s,thisMonthCommissions:h,previousMonthCommissions:x,staffs:f}){console.log("Edit Staff Commission",s);const{data:a,setData:o,post:p,put:w,errors:i,processing:j,recentlySuccessful:v}=N({staff_id:s.staff_id,month:s.month,total_commission:s.total_commission,_method:"PUT"}),g=t=>{o("staff_id",t)},_=t=>{var c,d;if(!a.staff_id)return;let l=0;t==="this_month"?l=((c=h[a.staff_id])==null?void 0:c.total)??0:l=((d=x[a.staff_id])==null?void 0:d.total)??0,o("total_commission",l)},y=t=>{t.preventDefault(),p(route("staff-commissions.update",s))};return e.jsx(e.Fragment,{children:e.jsx(b,{children:e.jsx("div",{className:"py-12 overflow-y-auto ",children:e.jsx("div",{className:"mx-auto sm:px-6 lg:px-8 space-y-6 flex flex-col items-center",children:e.jsxs("section",{className:"max-w-xl w-full",children:[e.jsxs("header",{children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:"Staff Commission's Information"}),e.jsxs("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:["Update ",s.name," account's profile information."]})]}),e.jsxs("form",{onSubmit:y,className:"mt-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx(m,{htmlFor:"staff_id",value:"Staff Name"}),e.jsxs(u,{id:"staff_id",className:"mt-1 block w-full",value:a.staff_id,onChange:t=>g(t.target.value),required:!0,isFocused:!0,children:[e.jsx("option",{children:s.staff.name}),e.jsx("option",{disabled:!0,children:"select staff"}),f.data.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))]}),e.jsx(n,{className:"mt-2",message:i.staff_id})]}),e.jsxs("div",{children:[e.jsxs(u,{onChange:t=>_(t.target.value),isFocused:!0,children:[e.jsx("option",{value:"",children:"Select one"}),e.jsx("option",{value:"this_month",children:"This Month"}),e.jsx("option",{value:"previous_month",children:"Previous Month"})]}),e.jsx(m,{htmlFor:"total_commission",value:"Total Commission"}),e.jsx(r,{id:"total_commission",type:"number",readOnly:!0,className:"mt-1 block w-full",value:a.total_commission,onChange:t=>o("total_commission",t.target.value),required:!0,isFocused:!0,autoComplete:"total_commission"}),e.jsx(n,{className:"mt-2",message:i.total_commission})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"month",value:"Month"}),e.jsx(r,{type:"month",value:a.month,readOnly:!0}),e.jsx(r,{id:"month",type:"date",className:"mt-1 block w-full",value:a.month,onChange:t=>o("month",t.target.value),required:!0,isFocused:!0}),e.jsx(n,{className:"mt-2",message:i.month})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(S,{disabled:j,children:"Save"}),e.jsx(F,{show:v,enter:"transition ease-in-out",enterFrom:"opacity-0",leave:"transition ease-in-out",leaveTo:"opacity-0",children:e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Saved."})})]})]})]})})})})})}export{A as default};
