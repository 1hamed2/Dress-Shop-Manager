import{r as h,j as e,$ as g,S as y}from"./app-sGPDzOdj.js";import{A as I,f as $}from"./Admin-BTNIfvca.js";import{r as a,F as D,a as o,b as A,c as B}from"./index-q4uN7DkW.js";import{M as E,S as F,D as R}from"./DangerButton-D5Sma0dt.js";import"./NavLink-B_sBopIA.js";import"./transition-D544M8uy.js";function z({imports:r,queryParams:n,success:i,updateMsg:c,deleteMsg:d}){n=n||"";const[x,w]=h.useState();console.log("imports",r);const v=s=>{s.key==="Enter"&&b()},T=s=>{w(s.target.value)},b=()=>{const s={...n};/^\d+$/.test(x)?(s.id=x,delete s.company_id):(s.company_id=x,delete s.id),y.get(route("imports.index",s))},m=s=>{const t={...n};s===n.sort_field?(console.log("passed suckjdfhgllyy"),t.sort_direction==="desc"?t.sort_direction="asc":t.sort_direction="desc"):(t.sort_field=s,t.sort_direction="desc"),y.get(route("imports.index",t))},[p,f]=h.useState(!!i||!!d||!!c);h.useEffect(()=>{if(i||d||c){f(!0);const s=setTimeout(()=>{f(!1)},5e3);return()=>clearTimeout(s)}},[i,d,c]);const[C,j]=h.useState(!1),[k,N]=h.useState(null),S=s=>{j(!0),N(s)},u=()=>{j(!1),N(null)},_=s=>{if(!s||!s.id){alert("Error: No import selected");return}console.log("Deleting import:",s),y.delete(route("imports.destroy",s.id)),u()};return e.jsx(e.Fragment,{children:e.jsxs(I,{children:[i&&e.jsx("div",{className:`bg-emerald-500 py-2 px-4 rounded text-gray-100 transition-opacity duration-1000 ${p?"opacity-100":"opacity-0"}`,children:i}),d&&e.jsx("div",{className:`bg-emerald-500 py-2 px-4 rounded text-gray-100 transition-opacity duration-1000 ${p?"opacity-100":"opacity-0"}`,children:d}),c&&e.jsx("div",{className:`bg-emerald-500 py-2 px-4 rounded text-gray-100 transition-opacity duration-1000 ${p?"opacity-100":"opacity-0"}`,children:c}),e.jsx("div",{className:"flex flex-wrap",children:e.jsx("div",{className:"w-full mb-12 px-4",children:e.jsxs(a.Card,{className:"h-full w-full",children:[e.jsxs(a.CardHeader,{floated:!1,shadow:!1,className:"rounded-none",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between gap-8",children:[e.jsx("div",{}),e.jsx("div",{className:"flex shrink-0 flex-col gap-2 sm:flex-row",children:e.jsx(a.Button,{className:"flex items-center gap-3 bg-gray-900",size:"sm",children:e.jsxs(g,{href:route("imports.create"),className:"flex items-center",children:[e.jsx(D,{strokeWidth:2,className:"h-4 w-4"})," Add import"]})})})]}),e.jsxs("div",{className:"flex flex-col items-center justify-between gap-4 md:flex-row",children:[e.jsxs("div",{className:"w-full md:w-max",children:[e.jsx(a.Typography,{variant:"h5",color:"blue-gray",children:"Imports list"}),e.jsx(a.Typography,{color:"gray",className:"mt-1 font-normal",children:"See information about all imports"})]}),e.jsx("div",{className:"w-full md:w-72",children:e.jsxs("div",{class:"relative",children:[e.jsx("input",{type:"text",value:x,onChange:T,class:"w-full bg-transparent placeholder:text-slate-400 text-slate-700 text-sm border border-slate-200 rounded-md pl-3 pr-28 py-2 transition duration-300 ease focus:outline-none focus:border-slate-400 hover:border-slate-300 shadow-sm focus:shadow",placeholder:"Search by company name",onKeyDown:v}),e.jsxs("button",{class:"absolute top-1 right-1 flex items-center rounded bg-slate-800 py-1 px-2.5 border border-transparent text-center text-sm text-white transition-all shadow-sm hover:shadow focus:bg-slate-700 focus:shadow-none active:bg-slate-700 hover:bg-slate-700 active:shadow-none disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none",type:"button",onClick:b,children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"w-4 h-4 mr-2",children:e.jsx("path",{"fill-rule":"evenodd",d:"M10.5 3.75a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5ZM2.25 10.5a8.25 8.25 0 1 1 14.59 5.28l4.69 4.69a.75.75 0 1 1-1.06 1.06l-4.69-4.69A8.25 8.25 0 0 1 2.25 10.5Z","clip-rule":"evenodd"})}),"Search"]})]})})]})]}),e.jsx(a.CardBody,{className:"overflow-scroll px-0",children:e.jsxs("table",{className:"mt-4 w-full min-w-max table-auto text-left",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-800",children:[e.jsx("th",{className:"cursor-pointer border-y border-blue-gray-100 bg-blue-gray-50/50 p-4 transition-colors hover:bg-blue-gray-50",children:e.jsxs(a.Typography,{variant:"small",className:"flex items-center justify-between gap-2 font-bold leading-none",children:[e.jsx("h2",{className:"bg-slate-800  text-white p-3 rounded",children:"Id"}),e.jsx(o,{onClick:()=>m("id"),name:"id",strokeWidth:2,className:"h-4 w-4 text-white"})]})}),e.jsx("th",{className:"cursor-pointer border-y border-blue-gray-100 bg-blue-gray-50/50 p-4 transition-colors hover:bg-blue-gray-50",children:e.jsxs(a.Typography,{variant:"small",className:"flex items-center justify-between gap-2 font-bold leading-none",children:[e.jsx("h2",{className:"bg-slate-800  text-white p-3 rounded",children:"Company"}),e.jsx(o,{onClick:()=>m("company"),name:"company",strokeWidth:2,className:"h-4 w-4 text-white"})]})}),e.jsx("th",{className:"cursor-pointer border-y border-blue-gray-100 bg-blue-gray-50/50 p-4 transition-colors hover:bg-blue-gray-50",children:e.jsxs(a.Typography,{variant:"small",className:"flex items-center justify-between gap-2 font-bold leading-none",children:[e.jsx("h2",{className:"bg-slate-800  text-white p-3 rounded",children:"Total cost"}),e.jsx(o,{onClick:()=>m("total_cost"),name:"total_cost",strokeWidth:2,className:"h-4 w-4 text-white"})]})}),e.jsx("th",{className:"cursor-pointer border-y border-blue-gray-100 bg-blue-gray-50/50 p-4 transition-colors hover:bg-blue-gray-50",children:e.jsxs(a.Typography,{variant:"small",className:"flex items-center justify-between gap-2 font-bold leading-none",children:[e.jsx("h2",{className:"bg-slate-800  text-white p-3 rounded",children:"Created At"}),e.jsx(o,{strokeWidth:2,className:"h-4 w-4 text-white"})]})}),e.jsx("th",{className:"cursor-pointer border-y border-blue-gray-100 bg-blue-gray-50/50 p-4 transition-colors hover:bg-blue-gray-50",children:e.jsxs(a.Typography,{variant:"small",className:"flex items-center justify-between gap-2 font-bold leading-none",children:[e.jsx("h2",{className:"bg-slate-800  text-white p-3 rounded",children:"Updated At"}),e.jsx(o,{strokeWidth:2,className:"h-4 w-4 text-white"})]})}),e.jsx("th",{className:"cursor-pointer border-y border-blue-gray-100 bg-blue-gray-50/50 p-4 transition-colors hover:bg-blue-gray-50",children:e.jsxs(a.Typography,{variant:"small",className:"flex items-center justify-between gap-2 font-bold leading-none",children:[e.jsx("h2",{className:"bg-slate-800  text-white p-3 rounded",children:"Action"}),e.jsx(o,{strokeWidth:2,className:"h-4 w-4 text-white"})]})})]})}),e.jsx("tbody",{children:r.data.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"py-6",children:e.jsx("div",{className:"flex justify-center",children:e.jsx("p",{className:`inline-flex items-center rounded-md border border-transparent bg-red-600\r
                                                            px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white \r
                                                            transition duration-150 ease-in-out hover:bg-red-500 focus:outline-none focus:ring-2\r
                                                            focus:ring-red-500 focus:ring-offset-2 active:bg-red-700`,children:"No Import found !!"})})})}):r.data.map(s=>{const l=s===r.length-1?"p-4":"p-4 border-b border-blue-gray-50";return e.jsxs("tr",{children:[e.jsx("td",{className:l,children:e.jsx("div",{className:"flex items-center gap-3",children:e.jsx("div",{className:"flex flex-col",children:e.jsx(a.Typography,{variant:"small",color:"blue-gray",className:"font-normal",children:s.id})})})}),e.jsx("td",{className:l,children:e.jsx("div",{className:"flex items-center gap-3",children:e.jsx("div",{className:"flex flex-col",children:e.jsx(a.Typography,{variant:"small",color:"blue-gray",className:"font-normal",children:s.company.name})})})}),e.jsx("td",{className:l,children:e.jsx("div",{className:"flex items-center gap-3",children:e.jsx("div",{className:"flex flex-col",children:e.jsxs(a.Typography,{variant:"small",color:"blue-gray",className:"font-normal",children:[$(s.total_cost),e.jsx("span",{className:"ml-1 px-1 py-0.5 bg-gray-200 text-gray-500 text-[10px] rounded-full",children:"PKR"})]})})})}),e.jsx("td",{className:l,children:e.jsx("div",{className:"flex flex-col",children:e.jsx(a.Typography,{variant:"small",color:"blue-gray",className:"font-normal",children:s.created_at})})}),e.jsx("td",{className:l,children:e.jsx(a.Typography,{variant:"small",color:"blue-gray",className:"font-normal",children:s.updated_at})}),e.jsx("td",{className:l,children:e.jsxs("div",{children:[e.jsx(a.Tooltip,{content:"Delete User",children:e.jsx(a.IconButton,{onClick:W=>S(s),variant:"text",children:e.jsx(A,{className:"h-6 w-6 text-red-500"})})}),e.jsx(a.Tooltip,{content:"Edit User",children:e.jsx(a.IconButton,{variant:"text",children:e.jsx(g,{href:route("imports.edit",s.id),children:e.jsx(B,{className:"h-6 w-6"})})})})]})})]},s.id)})})]})}),e.jsxs(a.CardFooter,{className:"flex items-center justify-between border-t border-blue-gray-50 p-4",children:[e.jsxs(a.Typography,{variant:"small",color:"blue-gray",className:"font-normal",children:["Page ",r.meta.current_page," of ",r.meta.last_page]}),e.jsx("div",{className:"flex gap-2",children:r.meta.links.map(s=>e.jsx(g,{preserveScroll:!0,href:s.url||"",className:"inline-block py-2 px-3 rounded-lg  border-t border-blue-gray-50"+(s.active?"bg-gray-950 ":" ")+(s.url?"hover:bg-gray-950 hover:text-gray-100":"text-gray-500 cursor-not-allowed "),dangerouslySetInnerHTML:{__html:s.label}},s.label))})]})]})})}),e.jsx(E,{show:C,onClose:u,children:e.jsxs("div",{className:"p-6 pointer-events-auto",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:"Are you sure you want to delete this importss?"}),e.jsxs("div",{className:"mt-6 flex justify-end",children:[e.jsx(F,{onClick:u,children:"Cancel"}),e.jsx(R,{onClick:()=>_(k),className:"ms-3",children:"Delete Import"})]})]})})]})})}export{z as default};
